digraph pg_catbench {
    node [shape=record];

    benchmarks [label="{benchmarks|id : bigint (PK)\lname : text (U)\lgenerate_function : text\lhash_function : text\l}"];
    benchmark_files [label="{benchmark_files|id : bigint (PK)\lbenchmark_id : bigint (FK)\lfile_id : bigint (FK)\l}"];
    functions [label="{functions|id : bigint (PK)\lname : text (U)\lbenchmark_id : bigint (FK)\lx_label : text\ly_label : text\l}"];
    hosts [label="{hosts|id : uuid (PK)\lcpu_info : jsonb\los_info : jsonb\lcreated_at : timestamptz\l}"];
    results [label="{results|id : uuid (PK)\lexecution_time : numeric\lrun_id : uuid (FK)\ltest_id : bigint (FK)\lresult_at : timestamptz\l}"];
    runs [label="{runs|id : uuid (PK)\lbenchmark_id : bigint (FK)\lhost_id : uuid (FK)\lcommit_id : bigint (FK)\lcreated_at : timestamptz\lstarted_at : timestamptz\lfinished_at : timestamptz\l}"];
    tests [label="{tests|id : bigint (PK)\lfunction_id : bigint (FK)\lx : numeric\ly : numeric\lhash_value : integer\l}"];
    commits [label="{commits|id : bigint (PK)\lcommit_hash : text (U)\l}"];
    files [label="{files|id : bigint (PK)\lfile_path : text (U)\l}"];
    commit_files [label="{commit_files|commit_id : bigint (FK)\lfile_id : bigint (FK)\l}"];

    // Relationships
    benchmark_files -> benchmarks [label="benchmark_id"];
    benchmark_files -> files [label="file_id"];
    functions -> benchmarks [label="benchmark_id"];
    results -> runs [label="run_id"];
    results -> tests [label="test_id"];
    runs -> benchmarks [label="benchmark_id"];
    runs -> hosts [label="host_id"];
    runs -> commits [label="commit_id"];
    tests -> functions [label="function_id"];
    commit_files -> commits [label="commit_id"];
    commit_files -> files [label="file_id"];
}
